databaseChangeLog:
  - changeSet:
      id: 007-create-book-author-junction
      author: mahdi
      changes:
        - createTable:
            tableName: book_author
            columns:
              - column:
                  name: book_id
                  type: BIGINT
                  constraints:
                    nullable: false
                    foreignKeyName: fk_book_author_book
                    references: t_book(id)
                    deleteCascade: true
              - column:
                  name: author_id
                  type: BIGINT
                  constraints:
                    nullable: false
                    foreignKeyName: fk_book_author_author
                    references: t_author(id)
                    deleteCascade: true
        - addPrimaryKey:
            tableName: book_author
            columnNames: book_id, author_id
            constraintName: pk_book_author
        - createIndex:
            indexName: idx_book_author_book
            tableName: book_author
            columns:
              - column:
                  name: book_id
        - createIndex:
            indexName: idx_book_author_author
            tableName: book_author
            columns:
              - column:
                  name: author_id

  - changeSet:
      id: 008-create-book-translator-junction
      author: mahdi
      changes:
        - createTable:
            tableName: book_translator
            columns:
              - column:
                  name: book_id
                  type: BIGINT
                  constraints:
                    nullable: false
                    foreignKeyName: fk_book_translator_book
                    references: t_book(id)
                    deleteCascade: true
              - column:
                  name: translator_id
                  type: BIGINT
                  constraints:
                    nullable: false
                    foreignKeyName: fk_book_translator_translator
                    references: t_translator(id)
                    deleteCascade: true
        - addPrimaryKey:
            tableName: book_translator
            columnNames: book_id, translator_id
            constraintName: pk_book_translator
        - createIndex:
            indexName: idx_book_translator_book
            tableName: book_translator
            columns:
              - column:
                  name: book_id
        - createIndex:
            indexName: idx_book_translator_translator
            tableName: book_translator
            columns:
              - column:
                  name: translator_id